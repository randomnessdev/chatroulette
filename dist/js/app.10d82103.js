(function(e){function t(t){for(var o,c,s=t[0],i=t[1],l=t[2],d=0,f=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={app:0},r=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=i;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1892:function(e,t,n){"use strict";n("2c83")},"1b0e":function(e,t,n){"use strict";n("d68b")},2368:function(e,t,n){},"285f":function(e,t,n){"use strict";n("3a1c")},"2c83":function(e,t,n){},"2e85":function(e,t,n){},"3a1c":function(e,t,n){},"4ba8":function(e,t,n){"use strict";n("ad67")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("app-header"),n("app-container")],1)},r=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"flex",attrs:{id:"header"}},[e._m(0),n("ul",{staticClass:"control"},[n("li",[n("button",{attrs:{disabled:"closed"!==e.connectionState},on:{click:e.start}},[e._v("Start")])]),n("li",[n("button",{attrs:{disabled:"open"!==e.connectionState},on:{click:e.next}},[e._v("Next")])]),n("li",[n("button",{attrs:{disabled:"closed"===e.connectionState},on:{click:e.stop}},[e._v("Stop")])])])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[n("a",{attrs:{href:"/"}},[e._v("VO-chatroulette")])])}],i=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),l=n("2f62");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={name:"app-header",computed:Object(l["d"])(["localStream","connectionState"]),methods:d(d(d({},Object(l["c"])(["createPeerConnection","closePeerConnection","addLocalStream","removeLocalStream"])),Object(l["b"])(["getUserMedia","hangUpCall"])),{},{start:function(){this.createPeerConnection(),this.getUserMedia()},next:function(){this.closePeerConnection(),this.hangUpCall(),this.createPeerConnection(),this.addLocalStream(this.localStream)},stop:function(){this.closePeerConnection(),this.hangUpCall(),this.removeLocalStream()}})},p=f,h=(n("a901"),n("2877")),m=Object(h["a"])(p,c,s,!1,null,null,null),v=m.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex",attrs:{id:"container"}},[n("container-webcam"),n("container-room")],1)},b=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{attrs:{id:"webcam"}},[n("div",{staticClass:"partner"},[n("h2",[e._v("Partner")]),n("video",{ref:"remote",attrs:{autoplay:""}})]),n("div",{staticClass:"you"},[n("h2",[e._v("You")]),n("video",{ref:"local",attrs:{autoplay:"",muted:""},domProps:{muted:!0}})])])},C=[],w={name:"webcam",computed:Object(l["d"])(["localStream","remoteStream"]),watch:{remoteStream:function(e){this.$refs.remote.srcObject=e},localStream:function(e){this.$refs.local.srcObject=e}},methods:{}},O=w,S=(n("632a"),Object(h["a"])(O,y,C,!1,null,null,null)),j=S.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex",attrs:{id:"room"}},[n("room-messages"),n("room-canvas"),n("room-input")],1)},x=[],E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{attrs:{tag:"ul",id:"messages",name:"messages"},on:{enter:e.enter}},["open"===e.connectionState?n("li",{key:"open",staticClass:"system message"},[n("p",{staticClass:"text"},[n("span",{staticClass:"tip"},[n("i",{staticClass:"fas fa-check"})]),e._v("\n      Just say hello to each other :D\n    ")])]):e._e(),"connecting"===e.connectionState?n("li",{key:"connecting",staticClass:"system message"},[n("p",{staticClass:"text"},[n("span",{staticClass:"tip"},[n("i",{staticClass:"fas fa-spinner fa-spin"})]),e._v("\n      Life is like a non-stop roulette. You never know who you will meet next...\n    ")])]):e._e(),e._l(e.messages,(function(t,o){return n("li",{key:""+o,staticClass:"message",class:t.role},[n("p",{staticClass:"text"},[n("span",{staticClass:"tip",domProps:{innerHTML:e._s(t.html)}}),e._v(e._s(t.text))])])}))],2)},P=[],_={name:"messages",computed:Object(l["d"])(["messages","connectionState"]),methods:{enter:function(e){e.scrollIntoView({block:"end",behavior:"auto"})}}},L=_,D=(n("7b45"),Object(h["a"])(L,E,P,!1,null,null,null)),T=D.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isCanvasShown,expression:"isCanvasShown"}],ref:"canvas",style:e.parentStyle,attrs:{id:"canvas"}},[n("canvas",{ref:"remoteCanvas",staticClass:"remote-canvas",attrs:{width:e.style.width,height:e.style.height}}),n("canvas",{ref:"localCanvas",staticClass:"local-canvas",attrs:{width:e.style.width,height:e.style.height},on:{mousedown:function(t){return t.stopPropagation(),e.startPaint(t)},mouseup:function(t){return t.stopPropagation(),e.stopPaint(t)},mouseout:function(t){return t.stopPropagation(),e.stopPaint(t)}}}),n("span",{staticClass:"canvas-tool"},[n("input",{attrs:{type:"color",name:"color"},on:{change:e.setStrokeStyle}}),n("input",{attrs:{type:"range",name:"range",min:"1",max:"10",value:"1"},on:{change:e.setLineWidth}}),n("input",{attrs:{type:"button",name:"save",value:"Save"},on:{click:e.save}}),n("input",{attrs:{type:"button",name:"clear",value:"Clear"},on:{click:e.clear}})])])},I=[];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W={name:"chat-canvas",data:function(){return{prev:{x:0,y:0},curr:{x:0,y:0},ctx:null,strokeStyle:"black",lineWidth:1,style:{width:0,height:0}}},computed:M(M({},Object(l["d"])(["remoteCanvas","isCanvasShown","socket","connectionState"])),{},{parentStyle:function(){return{width:this.style.width+"px",height:this.style.height+"px"}}}),watch:{remoteCanvas:function(e){var t=this.$refs.remoteCanvas.getContext("2d");t.beginPath(),t.moveTo(e.prev.x,e.prev.y),t.lineTo(e.curr.x,e.curr.y),t.lineWidth=e.lineWidth,t.strokeStyle=e.strokeStyle,t.stroke(),t.closePath()},connectionState:function(e){"closed"===e&&this.clear()}},mounted:function(){var e=this.$refs.canvas.previousElementSibling;this.style.width=e.offsetWidth,this.style.height=e.offsetHeight,this.ctx=this.$refs.localCanvas.getContext("2d")},methods:{startPaint:function(e){this.curr.x=e.offsetX,this.curr.y=e.offsetY,this.ctx.beginPath(),e.target.addEventListener("mousemove",this.paint)},stopPaint:function(e){this.ctx.closePath(),e.target.removeEventListener("mousemove",this.paint)},paint:function(e){e.stopPropagation(),this.prev.x=this.curr.x,this.prev.y=this.curr.y,this.curr.x=e.offsetX,this.curr.y=e.offsetY,this.ctx.moveTo(this.prev.x,this.prev.y),this.ctx.lineTo(this.curr.x,this.curr.y),this.ctx.lineWidth=this.lineWidth,this.ctx.strokeStyle=this.strokeStyle,this.ctx.stroke(),"open"===this.connectionState&&this.sync()},sync:function(){this.socket.emit("canvas",this.$data)},setStrokeStyle:function(e){this.strokeStyle=e.target.value},setLineWidth:function(e){this.lineWidth=e.target.value},clear:function(e){var t=this.$refs.remoteCanvas.getContext("2d");t.clearRect(0,0,this.remoteCanvas.style.width,this.remoteCanvas.style.height),this.ctx.clearRect(0,0,this.style.width,this.style.height)},save:function(e){var t=document.createElement("canvas");t.width=this.style.width,t.height=this.style.height;var n=t.getContext("2d");n.drawImage(this.$refs.remoteCanvas,0,0),n.drawImage(this.$refs.localCanvas,0,0);var o=t.toDataURL("image/png"),a=document.createElement("a");a.download="chatroulette.png",a.href=o,a.click(),t=a=null}}},N=W,U=(n("285f"),Object(h["a"])(N,$,I,!1,null,null,null)),A=U.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex",attrs:{id:"input"}},[n("div",{staticClass:"input-area"},[n("input-toolbar",{on:{addEmoji:e.addEmoji}}),n("textarea",{ref:"textarea",staticClass:"textarea",on:{keypress:function(t){return t.stopPropagation(),e.handleInput(t)}}})],1),n("div",{staticClass:"action-area"},[n("button",{staticClass:"send",attrs:{type:"button"},on:{click:e.sendMessage}},[e._v("Send")])])])},Y=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tool-bar"}},[n("ul",[n("li",{staticClass:"tool-bar-item emoji"},[n("i",{staticClass:"fas fa-laugh",class:{active:e.isEmojiShown},on:{click:e.toggleEmoji}}),n("toolbar-emoji",{directives:[{name:"show",rawName:"v-show",value:e.isEmojiShown,expression:"isEmojiShown"}],on:{addEmoji:e.addEmoji}})],1),n("li",{staticClass:"tool-bar-item canvas"},[n("i",{staticClass:"fas fa-edit",class:{active:e.isCanvasShown},on:{click:e.toggleCanvas}})])])])},V=[],X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"emoji"}},[e._l(e.groups,(function(t,o){return n("ul",{directives:[{name:"show",rawName:"v-show",value:e.activeIndex===o,expression:"activeIndex === index"}],key:o,staticClass:"groups",on:{click:e.select}},e._l(t,(function(t,o){return n("li",{key:o,staticClass:"emoji"},[e._v(e._s(t))])})),0)})),n("ul",{staticClass:"tabs"},e._l(e.tabs,(function(t,o){return n("li",{key:o,staticClass:"tab",on:{click:function(t){e.activeIndex=o}}},[n("i",{staticClass:"fas",class:[t,{active:o===e.activeIndex}]})])})),0)],2)},F=[],G=n("914f"),K={name:"emoji",data:function(){return{activeIndex:0,tabs:["fa-user","fa-leaf","fa-bell","fa-car","fa-font"],groups:G.groups}},methods:{select:function(e){e.target!==e.currentTarget&&this.$emit("addEmoji",e.target.textContent)}}},q=K,z=(n("1892"),Object(h["a"])(q,X,F,!1,null,null,null)),B=z.exports;function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={name:"toolbar",components:{ToolbarEmoji:B},data:function(){return{isEmojiShown:!1}},computed:Z({},Object(l["d"])(["isCanvasShown"])),methods:Z(Z({},Object(l["c"])(["toggleCanvas"])),{},{toggleEmoji:function(e){this.isEmojiShown=!this.isEmojiShown},addEmoji:function(e){this.$emit("addEmoji",e)}})},te=ee,ne=(n("4ba8"),Object(h["a"])(te,H,V,!1,null,null,null)),oe=ne.exports;function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce={name:"chat-input",components:{InputToolbar:oe},computed:Object(l["d"])(["socket","connectionState"]),methods:re(re({},Object(l["c"])(["addMessage"])),{},{handleInput:function(e){e.shiftKey||"Enter"!==e.key||(e.preventDefault(),this.sendMessage())},addEmoji:function(e){var t=this.$refs.textarea,n=t.value,o=t.selectionStart,a=t.selectionEnd;t.value=n.slice(0,o)+e+n.slice(a),t.setSelectionRange(o+2,o+2),t.focus()},sendMessage:function(e){var t=this.$refs.textarea,n=t.value;n&&(this.addMessage({text:n,role:"you"}),t.value="","open"===this.connectionState&&this.socket.emit("message",{text:n,role:"partner"}))}})},se=ce,ie=(n("ab13"),Object(h["a"])(se,J,Y,!1,null,null,null)),le=ie.exports,ue={name:"room",components:{RoomMessages:T,RoomCanvas:A,RoomInput:le}},de=ue,fe=(n("f897"),Object(h["a"])(de,k,x,!1,null,null,null)),pe=fe.exports,he={name:"container",components:{ContainerWebcam:j,ContainerRoom:pe}},me=he,ve=(n("1b0e"),Object(h["a"])(me,g,b,!1,null,null,null)),ge=ve.exports,be={name:"app",components:{AppHeader:v,AppContainer:ge}},ye=be,Ce=(n("7c55"),Object(h["a"])(ye,a,r,!1,null,null,null)),we=Ce.exports,Oe=window.location.hostname?window.location.hostname:"localhost",Se="https:"===document.location.protocol?"wss":"ws",je="localhost"===Oe?8081:"wss"===Se?443:80,ke=Se+"://"+Oe+":"+je,xe={peerConnection:null,localStream:null,remoteStream:null,isCanvasShown:!1,remoteCanvas:{prev:{x:0,y:0},curr:{x:0,y:0},ctx:null,lineWidth:1,strokeStyle:"black",style:{width:0,height:0}},messages:[],connectionState:"closed",connectionConfig:{iceServers:[{urls:"stun:stun.stunprotocol.org"}]},mediaConstraints:{audio:!0,video:{aspectRatio:{ideal:1.333333}}},socket:new WebSocket(ke,"json")},Ee={},Pe={log:function(e){var t=new Date;console.log("["+t.toLocaleString()+"] "+e)},trace:function(e){var t=new Date;console.trace("["+t.toLocaleString()+"] "+e)}};function _e(e){e.candidate&&(Pe.log("*** Outgoing ICE candidate: "+e.candidate.candidate),xe.socket.emit("new-ice-candidate",e.candidate))}function Le(e){switch(Pe.log("*** ICE connection state changed to "+e.target.iceConnectionState),e.target.iceConnectionState){case"connected":case"complete":xe.connectionState="open";break;case"closed":case"failed":case"disconnected":Me();break}}function De(e){Pe.log("*** ICE gathering state changed to: "+e.target.iceGatheringState)}function Te(e){switch(Pe.log("*** WebRTC signaling state changed to: "+e.target.signalingState),e.target.signalingState){case"closed":Me();break}}function $e(e){Pe.log("*** Negotiation needed"),"closed"===xe.connectionState&&(xe.connectionState="connecting",xe.socket.emit("search-peer"))}function Ie(e){Pe.log("*** the remote peer adds a track to the connection"),xe.remoteStream=e.streams[0]}function Re(e){Pe.log("*** the remote peer removes a track from the connection");var t=xe.remoteStream.getTracks();0===t.length&&Me()}function Me(){xe.connectionState="closed",xe.peerConnection&&(Pe.log("Closing the peer connection..."),xe.peerConnection.removeEventListener("icecandidate",_e),xe.peerConnection.removeEventListener("iceconnectionstatechange",Le),xe.peerConnection.removeEventListener("icegatheringstatechange",De),xe.peerConnection.removeEventListener("signalingstatechange",Te),xe.peerConnection.removeEventListener("negotiationneeded",$e),xe.peerConnection.removeEventListener("track",Ie),xe.peerConnection.removeEventListener("removetrack ",Re),xe.remoteStream&&(xe.remoteStream.getTracks().forEach((function(e){e.stop()})),xe.remoteStream=null),xe.peerConnection.close(),xe.peerConnection=null)}var We={addLocalStream:function(e,t){e.localStream=t,e.localStream.getTracks().forEach((function(t){e.peerConnection.addTrack(t,e.localStream)}))},removeLocalStream:function(e){e.localStream.getTracks().forEach((function(e){return e.stop()})),e.localStream=null},createPeerConnection:function(e){Pe.log("Setting up a connection..."),e.peerConnection=new RTCPeerConnection(null),e.peerConnection.addEventListener("icecandidate",_e),e.peerConnection.addEventListener("iceconnectionstatechange",Le),e.peerConnection.addEventListener("icegatheringstatechange",De),e.peerConnection.addEventListener("signalingstatechange",Te),e.peerConnection.addEventListener("negotiationneeded",$e),e.peerConnection.addEventListener("track",Ie),e.peerConnection.addEventListener("removetrack ",Re)},closePeerConnection:function(e){Me(),e.messages.splice(0)},toggleCanvas:function(e){e.isCanvasShown=!e.isCanvasShown},setRemoteCanvas:function(e,t){e.remoteCanvas=t},clearMessages:function(e){e.messages.splice(0)},addMessage:function(e,t){e.messages.push(t)}};n("7f7f");function Ne(e){switch(Pe.trace(e),e.name){case"NotFoundError":alert("Unable to open your call because no camera and/or microphone were found.");break;case"SecurityError":case"PermissionDeniedError":break;default:alert("Error opening your camera and/or microphone: "+e.message);break}}var Ue={addIceCandidate:function(e,t){var n=e.state,o=new RTCIceCandidate(t);return Pe.log("*** Adding received ICE candidate: "+JSON.stringify(o)),n.peerConnection.addIceCandidate(o)},setLocalDescription:function(e,t){var n=e.state;return Pe.log("---\x3e Setting local description to the offer"),n.peerConnection.setLocalDescription(t)},setRemoteDescription:function(e,t){var n=e.state;Pe.log("---\x3e Setting remote description");var o=new RTCSessionDescription(t);return n.peerConnection.setRemoteDescription(o)},createOffer:function(e){var t=e.state;return Pe.log("---\x3e Creating offer"),t.peerConnection.createOffer()},sendOfferToPeer:function(e){var t=e.state;Pe.log("---\x3e Sending the offer to the remote peer"),t.socket.emit("video-offer",t.peerConnection.localDescription)},createAnswer:function(e){var t=e.state;return Pe.log("---\x3e Creating answer"),t.peerConnection.createAnswer()},sendAnswerToPeer:function(e){var t=e.state;Pe.log("---\x3e Sending answer to the remote peer"),t.socket.emit("video-answer",t.peerConnection.localDescription)},hangUpCall:function(e){var t=e.state;Pe.log("---\x3e Notify the remote peer to hang up the call"),t.socket.emit("hang-up")},ping:function(e){var t=e.state;t.socket.emit("ping")},getUserMedia:function(e){var t=e.commit,n=e.state;return navigator.mediaDevices.getUserMedia(n.mediaConstraints).then((function(e){t("addLocalStream",e)})).catch((function(e){Ne(e),t("closePeerConnection")}))}};function Ae(e,t){t("addIceCandidate",e).catch((function(e){return Pe.trace("Error ".concat(e.name,": ").concat(e.message))}))}function Je(e,t){t("setRemoteDescription",e).then((function(){return t("createAnswer")})).then((function(e){return t("setLocalDescription",e)})).then((function(){return t("sendAnswerToPeer")})).catch((function(e){return Pe.trace("Error ".concat(e.name,": ").concat(e.message))}))}function Ye(e,t){t("setRemoteDescription",e).catch((function(e){return Pe.trace("Error ".concat(e.name,": ").concat(e.message))}))}function He(e,t){t("closePeerConnection"),t("createPeerConnection"),t("addLocalStream",e.localStream)}function Ve(e){e("createOffer").then((function(t){return e("setLocalDescription",t)})).then((function(){return e("sendOfferToPeer")})).catch((function(e){return Pe.trace("Error ".concat(e.name,": ").concat(e.message))}))}function Xe(e,t){t("addMessage",e)}function Fe(e,t){t("setRemoteCanvas",e)}var Ge=function(e){var t=e.state,n=e.commit,o=e.dispatch;xe.socket.emit=function(e,t){xe.socket.send(JSON.stringify({type:e,data:t}))},xe.socket.addEventListener("open",(function(e){Pe.log("The websocket connection has been opened successfully."),setInterval((function(){o("ping")}),53e3)})),xe.socket.addEventListener("close",(function(e){Pe.log("The websocket connection has been closed with error code ".concat(e.code,": ").concat(e.reason))})),xe.socket.addEventListener("error",(function(e){Pe.trace(e)})),xe.socket.addEventListener("message",(function(e){var a=JSON.parse(e.data);switch(a.type){case"new-ice-candidate":Ae(a.data,o);break;case"video-offer":Je(a.data,o);break;case"video-answer":Ye(a.data,o);break;case"hang-up":He(t,n);break;case"peer-matched":Ve(o);break;case"message":Xe(a.data,n);break;case"canvas":Fe(a.data,n);break;default:break}}))},Ke=[Ge];o["a"].use(l["a"]);var qe=new l["a"].Store({state:xe,getters:Ee,mutations:We,actions:Ue,plugins:Ke});var ze=qe;o["a"].config.productionTip=!1,new o["a"]({store:ze,render:function(e){return e(we)}}).$mount("#app")},"5c48":function(e,t,n){},"632a":function(e,t,n){"use strict";n("e934")},"7b45":function(e,t,n){"use strict";n("960d")},"7c55":function(e,t,n){"use strict";n("5c48")},"7e9c":function(e,t,n){},"914f":function(e){e.exports=JSON.parse('{"groups":[["ðŸ˜„","ðŸ˜ƒ","ðŸ˜€","ðŸ˜Š","ðŸ˜‰","ðŸ˜","ðŸ˜˜","ðŸ˜š","ðŸ˜—","ðŸ˜™","ðŸ˜œ","ðŸ˜","ðŸ˜›","ðŸ˜³","ðŸ˜","ðŸ˜”","ðŸ˜Œ","ðŸ˜’","ðŸ˜ž","ðŸ˜£","ðŸ˜¢","ðŸ˜‚","ðŸ˜­","ðŸ˜ª","ðŸ˜¥","ðŸ˜°","ðŸ˜…","ðŸ˜“","ðŸ˜©","ðŸ˜«","ðŸ˜¨","ðŸ˜±","ðŸ˜ ","ðŸ˜¡","ðŸ˜¤","ðŸ˜–","ðŸ˜†","ðŸ˜‹","ðŸ˜·","ðŸ˜Ž","ðŸ˜´","ðŸ˜µ","ðŸ˜²","ðŸ˜Ÿ","ðŸ˜¦","ðŸ˜§","ðŸ˜ˆ","ðŸ‘¿","ðŸ˜®","ðŸ˜¬","ðŸ˜","ðŸ˜•","ðŸ˜¯","ðŸ˜¶","ðŸ˜‡","ðŸ˜","ðŸ˜‘","ðŸ‘²","ðŸ‘³","ðŸ‘®","ðŸ‘·","ðŸ’‚","ðŸ‘¶","ðŸ‘¦","ðŸ‘§","ðŸ‘¨","ðŸ‘©","ðŸ‘´","ðŸ‘µ","ðŸ‘±","ðŸ‘¼","ðŸ‘¸","ðŸ˜º","ðŸ˜¸","ðŸ˜»","ðŸ˜½","ðŸ˜¼","ðŸ™€","ðŸ˜¿","ðŸ˜¹","ðŸ˜¾","ðŸ‘¹","ðŸ‘º","ðŸ™ˆ","ðŸ™‰","ðŸ™Š","ðŸ’€","ðŸ‘½","ðŸ’©","ðŸ”¥","âœ¨","ðŸŒŸ","ðŸ’«","ðŸ’¥","ðŸ’¢","ðŸ’¦","ðŸ’§","ðŸ’¤","ðŸ’¨","ðŸ‘‚","ðŸ‘€","ðŸ‘ƒ","ðŸ‘…","ðŸ‘„","ðŸ‘","ðŸ‘Ž","ðŸ‘Œ","ðŸ‘Š","âœŠ","âœŒ","ðŸ‘‹","âœ‹","ðŸ‘","ðŸ‘†","ðŸ‘‡","ðŸ‘‰","ðŸ‘ˆ","ðŸ™Œ","ðŸ™","â˜","ðŸ‘","ðŸ’ª","ðŸš¶","ðŸƒ","ðŸ’ƒ","ðŸ‘«","ðŸ‘ª","ðŸ‘¬","ðŸ‘­","ðŸ’","ðŸ’‘","ðŸ‘¯","ðŸ™†","ðŸ™…","ðŸ’","ðŸ™‹","ðŸ’†","ðŸ’‡","ðŸ’…","ðŸ‘°","ðŸ™Ž","ðŸ™","ðŸ™‡","ðŸŽ©","ðŸ‘‘","ðŸ‘’","ðŸ‘Ÿ","ðŸ‘ž","ðŸ‘¡","ðŸ‘ ","ðŸ‘¢","ðŸ‘•","ðŸ‘”","ðŸ‘š","ðŸ‘—","ðŸŽ½","ðŸ‘–","ðŸ‘˜","ðŸ‘™","ðŸ’¼","ðŸ‘œ","ðŸ‘","ðŸ‘›","ðŸ‘“","ðŸŽ€","ðŸŒ‚","ðŸ’„","ðŸ’›","ðŸ’™","ðŸ’œ","ðŸ’š","â¤","ðŸ’”","ðŸ’—","ðŸ’“","ðŸ’•","ðŸ’–","ðŸ’ž","ðŸ’˜","ðŸ’Œ","ðŸ’‹","ðŸ’","ðŸ’Ž","ðŸ‘¤","ðŸ‘¥","ðŸ’¬","ðŸ‘£","ðŸ’­"],["ðŸ¶","ðŸº","ðŸ±","ðŸ­","ðŸ¹","ðŸ°","ðŸ¸","ðŸ¯","ðŸ¨","ðŸ»","ðŸ·","ðŸ½","ðŸ®","ðŸ—","ðŸµ","ðŸ’","ðŸ´","ðŸ‘","ðŸ˜","ðŸ¼","ðŸ§","ðŸ¦","ðŸ¤","ðŸ¥","ðŸ£","ðŸ”","ðŸ","ðŸ¢","ðŸ›","ðŸ","ðŸœ","ðŸž","ðŸŒ","ðŸ™","ðŸš","ðŸ ","ðŸŸ","ðŸ¬","ðŸ³","ðŸ‹","ðŸ„","ðŸ","ðŸ€","ðŸƒ","ðŸ…","ðŸ‡","ðŸ‰","ðŸŽ","ðŸ","ðŸ“","ðŸ•","ðŸ–","ðŸ","ðŸ‚","ðŸ²","ðŸ¡","ðŸŠ","ðŸ«","ðŸª","ðŸ†","ðŸˆ","ðŸ©","ðŸ¾","ðŸ’","ðŸŒ¸","ðŸŒ·","ðŸ€","ðŸŒ¹","ðŸŒ»","ðŸŒº","ðŸ","ðŸƒ","ðŸ‚","ðŸŒ¿","ðŸŒ¾","ðŸ„","ðŸŒµ","ðŸŒ´","ðŸŒ²","ðŸŒ³","ðŸŒ°","ðŸŒ±","ðŸŒ¼","ðŸŒ","ðŸŒž","ðŸŒ","ðŸŒš","ðŸŒ‘","ðŸŒ’","ðŸŒ“","ðŸŒ”","ðŸŒ•","ðŸŒ–","ðŸŒ—","ðŸŒ˜","ðŸŒœ","ðŸŒ›","ðŸŒ™","ðŸŒ","ðŸŒŽ","ðŸŒ","ðŸŒ‹","ðŸŒŒ","ðŸŒ ","â­ï¸","â˜€ï¸","â›…ï¸","â˜ï¸","âš¡ï¸","â˜”ï¸","â„ï¸","â›„ï¸","ðŸŒ€","ðŸŒ","ðŸŒˆ","ðŸŒŠ"],["ðŸŽ","ðŸ’","ðŸŽŽ","ðŸŽ’","ðŸŽ“","ðŸŽ","ðŸŽ†","ðŸŽ‡","ðŸŽ","ðŸŽ‘","ðŸŽƒ","ðŸ‘»","ðŸŽ…","ðŸŽ„","ðŸŽ","ðŸŽ‹","ðŸŽ‰","ðŸŽŠ","ðŸŽˆ","ðŸŽŒ","ðŸ”®","ðŸŽ¥","ðŸ“·","ðŸ“¹","ðŸ“¼","ðŸ’¿","ðŸ“€","ðŸ’½","ðŸ’¾","ðŸ’»","ðŸ“±","â˜Žï¸","ðŸ“ž","ðŸ“Ÿ","ðŸ“ ","ðŸ“¡","ðŸ“º","ðŸ“»","ðŸ”Š","ðŸ”‰","ðŸ”ˆ","ðŸ”‡","ðŸ””","ðŸ”•","ðŸ“¢","ðŸ“£","â³","âŒ›ï¸","â°","âŒšï¸","ðŸ”“","ðŸ”’","ðŸ”","ðŸ”","ðŸ”‘","ðŸ”Ž","ðŸ’¡","ðŸ”¦","ðŸ”†","ðŸ”…","ðŸ”Œ","ðŸ”‹","ðŸ”","ðŸ›","ðŸ›€","ðŸš¿","ðŸš½","ðŸ”§","ðŸ”©","ðŸ”¨","ðŸšª","ðŸš¬","ðŸ’£","ðŸ”«","ðŸ”ª","ðŸ’Š","ðŸ’‰","ðŸ’°","ðŸ’´","ðŸ’µ","ðŸ’·","ðŸ’¶","ðŸ’³","ðŸ’¸","ðŸ“²","ðŸ“§","ðŸ“¥","ðŸ“¤","âœ‰ï¸","ðŸ“©","ðŸ“¨","ðŸ“¯","ðŸ“«","ðŸ“ª","ðŸ“¬","ðŸ“­","ðŸ“®","ðŸ“¦","ðŸ“","ðŸ“„","ðŸ“ƒ","ðŸ“‘","ðŸ“Š","ðŸ“ˆ","ðŸ“‰","ðŸ“œ","ðŸ“‹","ðŸ“…","ðŸ“†","ðŸ“‡","ðŸ“","ðŸ“‚","âœ‚ï¸","ðŸ“Œ","ðŸ“Ž","âœ’ï¸","âœï¸","ðŸ“","ðŸ“","ðŸ“•","ðŸ“—","ðŸ“˜","ðŸ“™","ðŸ““","ðŸ“”","ðŸ“’","ðŸ“š","ðŸ“–","ðŸ”–","ðŸ“›","ðŸ”¬","ðŸ”­","ðŸ“°","ðŸŽ¨","ðŸŽ¬","ðŸŽ¤","ðŸŽ§","ðŸŽ¼","ðŸŽµ","ðŸŽ¶","ðŸŽ¹","ðŸŽ»","ðŸŽº","ðŸŽ·","ðŸŽ¸","ðŸ‘¾","ðŸŽ®","ðŸƒ","ðŸŽ´","ðŸ€„ï¸","ðŸŽ²","ðŸŽ¯","ðŸˆ","ðŸ€","âš½ï¸","âš¾ï¸","ðŸŽ¾","ðŸŽ±","ðŸ‰","ðŸŽ³","â›³ï¸","ðŸšµ","ðŸš´","ðŸ","ðŸ‡","ðŸ†","ðŸŽ¿","ðŸ‚","ðŸŠ","ðŸ„","ðŸŽ£","â˜•ï¸","ðŸµ","ðŸ¶","ðŸ¼","ðŸº","ðŸ»","ðŸ¸","ðŸ¹","ðŸ·","ðŸ´","ðŸ•","ðŸ”","ðŸŸ","ðŸ—","ðŸ–","ðŸ","ðŸ›","ðŸ¤","ðŸ±","ðŸ£","ðŸ¥","ðŸ™","ðŸ˜","ðŸš","ðŸœ","ðŸ²","ðŸ¢","ðŸ¡","ðŸ³","ðŸž","ðŸ©","ðŸ®","ðŸ¦","ðŸ¨","ðŸ§","ðŸŽ‚","ðŸ°","ðŸª","ðŸ«","ðŸ¬","ðŸ­","ðŸ¯","ðŸŽ","ðŸ","ðŸŠ","ðŸ‹","ðŸ’","ðŸ‡","ðŸ‰","ðŸ“","ðŸ‘","ðŸˆ","ðŸŒ","ðŸ","ðŸ","ðŸ ","ðŸ†","ðŸ…","ðŸŒ½"],["ðŸ ","ðŸ¡","ðŸ«","ðŸ¢","ðŸ£","ðŸ¥","ðŸ¦","ðŸª","ðŸ©","ðŸ¨","ðŸ’’","â›ªï¸","ðŸ¬","ðŸ¤","ðŸŒ‡","ðŸŒ†","ðŸ¯","ðŸ°","â›ºï¸","ðŸ­","ðŸ—¼","ðŸ—¾","ðŸ—»","ðŸŒ„","ðŸŒ…","ðŸŒƒ","ðŸ—½","ðŸŒ‰","ðŸŽ ","ðŸŽ¡","â›²ï¸","ðŸŽ¢","ðŸš¢","â›µï¸","ðŸš¤","ðŸš£","âš“ï¸","ðŸš€","âœˆï¸","ðŸ’º","ðŸš","ðŸš‚","ðŸšŠ","ðŸš‰","ðŸšž","ðŸš†","ðŸš„","ðŸš…","ðŸšˆ","ðŸš‡","ðŸš","ðŸš‹","ðŸšƒ","ðŸšŽ","ðŸšŒ","ðŸš","ðŸš™","ðŸš˜","ðŸš—","ðŸš•","ðŸš–","ðŸš›","ðŸšš","ðŸš¨","ðŸš“","ðŸš”","ðŸš’","ðŸš‘","ðŸš","ðŸš²","ðŸš¡","ðŸšŸ","ðŸš ","ðŸšœ","ðŸ’ˆ","ðŸš","ðŸŽ«","ðŸš¦","ðŸš¥","âš ï¸","ðŸš§","ðŸ”°","â›½ï¸","ðŸ®","ðŸŽ°","â™¨ï¸","ðŸ—¿","ðŸŽª","ðŸŽ­","ðŸ“","ðŸš©","ðŸ‡¯ðŸ‡µ","ðŸ‡°ðŸ‡·","ðŸ‡©ðŸ‡ª","ðŸ‡¨ðŸ‡³","ðŸ‡ºðŸ‡¸","ðŸ‡«ðŸ‡·","ðŸ‡ªðŸ‡¸","ðŸ‡®ðŸ‡¹","ðŸ‡·ðŸ‡º","ðŸ‡¬ðŸ‡§"],["ðŸ”¢","ðŸ”£","â¬†ï¸","â¬‡ï¸","â¬…ï¸","âž¡ï¸","ðŸ” ","ðŸ”¡","ðŸ”¤","â†—ï¸","â†–ï¸","â†˜ï¸","â†™ï¸","ðŸ”„","â—€ï¸","â–¶ï¸","ðŸ”¼","ðŸ”½","â†©ï¸","â†ªï¸","â„¹ï¸","âª","â©","â«","â¬","â¤µï¸","â¤´ï¸","ðŸ†—","ðŸ”€","ðŸ”","ðŸ”‚","ðŸ†•","ðŸ†™","ðŸ†’","ðŸ†“","ðŸ†–","ðŸ“¶","ðŸŽ¦","ðŸˆ","ðŸˆ¯ï¸","ðŸˆ³","ðŸˆµ","ðŸˆ´","ðŸˆ²","ðŸ‰","ðŸˆ¹","ðŸˆº","ðŸˆ¶","ðŸˆšï¸","ðŸš»","ðŸš¹","ðŸšº","ðŸš¼","ðŸš¾","ðŸš°","ðŸš®","ðŸ…¿ï¸","â™¿ï¸","ðŸš­","ðŸˆ·","ðŸˆ¸","ðŸˆ‚","â“‚ï¸","ðŸ›‚","ðŸ›„","ðŸ›…","ðŸ›ƒ","ðŸ‰‘","ãŠ™ï¸","ãŠ—ï¸","ðŸ†‘","ðŸ†˜","ðŸ†”","ðŸš«","ðŸ”ž","ðŸ“µ","ðŸš¯","ðŸš±","ðŸš³","ðŸš·","ðŸš¸","â›”ï¸","âœ³ï¸","â‡ï¸","âŽ","âœ…","âœ´ï¸","ðŸ’Ÿ","ðŸ†š","ðŸ“³","ðŸ“´","ðŸ…°","ðŸ…±","ðŸ†Ž","ðŸ…¾","ðŸ’ ","âž¿","â™»ï¸","â™ˆï¸","â™‰ï¸","â™Šï¸","â™‹ï¸","â™Œï¸","â™ï¸","â™Žï¸","â™ï¸","â™ï¸","â™‘ï¸","â™’ï¸","â™“ï¸","â›Ž","ðŸ”¯","ðŸ§","ðŸ’¹","ðŸ’²","ðŸ’±","Â©","Â®","â„¢","âŒ","â€¼ï¸","â‰ï¸","â—ï¸","â“","â•","â”","â­•ï¸","ðŸ”","ðŸ”š","ðŸ”™","ðŸ”›","ðŸ”œ","ðŸ”ƒ","ðŸ•›","ðŸ•§","ðŸ•","ðŸ•œ","ðŸ•‘","ðŸ•","ðŸ•’","ðŸ•ž","ðŸ•“","ðŸ•Ÿ","ðŸ•”","ðŸ• ","ðŸ••","ðŸ•–","ðŸ•—","ðŸ•˜","ðŸ•™","ðŸ•š","ðŸ•¡","ðŸ•¢","ðŸ•£","ðŸ•¤","ðŸ•¥","ðŸ•¦","âœ–ï¸","âž•","âž–","âž—","â™ ï¸","â™¥ï¸","â™£ï¸","â™¦ï¸","ðŸ’®","ðŸ’¯","âœ”ï¸","â˜‘ï¸","ðŸ”˜","ðŸ”—","âž°","ã€°","ã€½ï¸","ðŸ”±","â—¼ï¸","â—»ï¸","â—¾ï¸","â—½ï¸","ðŸ”º","ðŸ”²","ðŸ”³","âš«ï¸","âšªï¸","ðŸ”´","ðŸ”µ","ðŸ”»","â¬œï¸","â¬›ï¸","ðŸ”¶","ðŸ”·","ðŸ”¸","ðŸ”¹"]]}')},"960d":function(e,t,n){},a901:function(e,t,n){"use strict";n("2368")},ab13:function(e,t,n){"use strict";n("7e9c")},ad67:function(e,t,n){},d68b:function(e,t,n){},e934:function(e,t,n){},f897:function(e,t,n){"use strict";n("2e85")}});